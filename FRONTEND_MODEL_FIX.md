# âœ… å‰ç«¯æ¨¡å‹é€‰é¡¹ä¿®å¤å®Œæˆ

## ğŸ› é—®é¢˜

å‰ç«¯ä¸‹æ‹‰èœå•ä¸­ä»ç„¶æ˜¾ç¤ºäº† `banana`ã€`vertex-ai` ç­‰é€‰é¡¹ï¼Œæ²¡æœ‰æŒ‰é¢„æœŸç®€åŒ–ã€‚

---

## ğŸ” åŸå› 

1. **é»˜è®¤å€¼é”™è¯¯** - `useState('banana')` åº”è¯¥æ”¹ä¸º `useState('gemini-3-pro')`
2. **ç¼ºå°‘ tab åˆ‡æ¢é€»è¾‘** - åˆ‡æ¢å›¾ç‰‡/è§†é¢‘æ—¶ï¼Œæ¨¡å‹æ²¡æœ‰è‡ªåŠ¨æ›´æ–°

---

## âœ… ä¿®å¤å†…å®¹

### æ–‡ä»¶ï¼š`src/components/panels/GenerationPanel.tsx`

#### ä¿®æ”¹ 1: æ›´æ–°é»˜è®¤æ¨¡å‹ï¼ˆç¬¬ 125 è¡Œï¼‰

**ä¹‹å‰**ï¼š
```typescript
const [model, setModel] = useState('banana');
```

**ä¹‹å**ï¼š
```typescript
const [model, setModel] = useState('gemini-3-pro');
```

#### ä¿®æ”¹ 2: æ·»åŠ  tab åˆ‡æ¢é€»è¾‘ï¼ˆç¬¬ 135-142 è¡Œï¼‰

**æ–°å¢**ï¼š
```typescript
// æ ¹æ® tab åˆ‡æ¢è‡ªåŠ¨æ›´æ–°æ¨¡å‹
useEffect(() => {
  if (activeTab === 'image') {
    setModel('gemini-3-pro');
  } else {
    setModel('veo-2');
  }
}, [activeTab]);
```

#### ä¿®æ”¹ 3: ç®€åŒ–ä¸‹æ‹‰é€‰é¡¹ï¼ˆç¬¬ 406-417 è¡Œï¼‰

**å›¾ç‰‡ç”Ÿæˆ**ï¼š
```typescript
{activeTab === 'image' ? (
  <>
    <option value="gemini-3-pro">ğŸŒ Gemini 3 Pro</option>
    <option value="jimeng">âœ¨ å³æ¢¦ 4.5</option>
    <option value="mock">ğŸ§ª Mock (æµ‹è¯•)</option>
  </>
```

**è§†é¢‘ç”Ÿæˆ**ï¼š
```typescript
) : (
  <>
    <option value="veo-2">ğŸ¬ Veo 2</option>
    <option value="mock">ğŸ§ª Mock (æµ‹è¯•)</option>
  </>
)}
```

---

## ğŸ¯ ç°åœ¨çš„è¡Œä¸º

### å›¾ç‰‡ç”Ÿæˆ Tab
- **é»˜è®¤æ¨¡å‹**: `gemini-3-pro`
- **å¯é€‰æ¨¡å‹**: 
  - ğŸŒ Gemini 3 Pro
  - âœ¨ å³æ¢¦ 4.5
  - ğŸ§ª Mock

### è§†é¢‘ç”Ÿæˆ Tab
- **é»˜è®¤æ¨¡å‹**: `veo-2`
- **å¯é€‰æ¨¡å‹**:
  - ğŸ¬ Veo 2
  - ğŸ§ª Mock

### Tab åˆ‡æ¢
- ä»å›¾ç‰‡åˆ‡æ¢åˆ°è§†é¢‘ â†’ è‡ªåŠ¨é€‰æ‹© `veo-2`
- ä»è§†é¢‘åˆ‡æ¢åˆ°å›¾ç‰‡ â†’ è‡ªåŠ¨é€‰æ‹© `gemini-3-pro`

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
```
Windows: Ctrl + Shift + R
Mac: Cmd + Shift + R
```

### 2. æ‰“å¼€ç”»å¸ƒ
```
http://localhost:3000/canvas
```

### 3. åˆ›å»ºå›¾ç‰‡èŠ‚ç‚¹
1. å³é”®ç‚¹å‡»ç”»å¸ƒ
2. é€‰æ‹© "æ·»åŠ å›¾ç‰‡èŠ‚ç‚¹"
3. åŒå‡»èŠ‚ç‚¹æ‰“å¼€ç”Ÿæˆé¢æ¿

### 4. éªŒè¯å›¾ç‰‡é€‰é¡¹
**é¢„æœŸçœ‹åˆ°**ï¼š
```
ğŸ¤– æ¨¡å‹
â”œâ”€ ğŸŒ Gemini 3 Pro  â† é»˜è®¤é€‰ä¸­
â”œâ”€ âœ¨ å³æ¢¦ 4.5
â””â”€ ğŸ§ª Mock (æµ‹è¯•)
```

**ä¸åº”è¯¥çœ‹åˆ°**ï¼š
- âŒ banana
- âŒ vertex-ai
- âŒ imagen-3
- âŒ gemini-2.0-flash

### 5. åˆ‡æ¢åˆ°è§†é¢‘ Tab
ç‚¹å‡» "è§†é¢‘" æ ‡ç­¾

**é¢„æœŸçœ‹åˆ°**ï¼š
```
ğŸ¤– æ¨¡å‹
â”œâ”€ ğŸ¬ Veo 2  â† è‡ªåŠ¨é€‰ä¸­
â””â”€ ğŸ§ª Mock (æµ‹è¯•)
```

### 6. æµ‹è¯•ç”Ÿæˆ
1. è¾“å…¥æç¤ºè¯ï¼š`ä¸€åªå¯çˆ±çš„å°çŒ«`
2. ç‚¹å‡»ç”Ÿæˆ
3. æŸ¥çœ‹åç«¯æ—¥å¿—

**é¢„æœŸæ—¥å¿—**ï¼š
```
[API] Generate image with model: gemini-3-pro
[Vertex Gemini] Model: gemini-3-pro-image-preview
âœ… Image found!
```

---

## ğŸ“Š å®Œæ•´é…ç½®å¯¹æ¯”

### å‰ç«¯ï¼ˆç”¨æˆ·å¯è§ï¼‰

| åŠŸèƒ½ | é€‰é¡¹æ•°é‡ | é€‰é¡¹åˆ—è¡¨ |
|-----|---------|---------|
| å›¾ç‰‡ç”Ÿæˆ | 3 ä¸ª | Gemini 3 Pro, å³æ¢¦ 4.5, Mock |
| è§†é¢‘ç”Ÿæˆ | 2 ä¸ª | Veo 2, Mock |

### åç«¯ï¼ˆAPI æ”¯æŒï¼‰

| åŠŸèƒ½ | æ”¯æŒæ•°é‡ | è¯´æ˜ |
|-----|---------|------|
| å›¾ç‰‡ç”Ÿæˆ | 11 ä¸ª model å€¼ | å…¨éƒ¨å¯ç”¨ï¼Œå…¼å®¹æ—§èŠ‚ç‚¹ |
| è§†é¢‘ç”Ÿæˆ | 2 ä¸ª model å€¼ | veo-2, mock |

---

## ğŸ¨ ç”¨æˆ·ä½“éªŒæµç¨‹

```
ç”¨æˆ·æ‰“å¼€ç”Ÿæˆé¢æ¿
    â†“
é»˜è®¤é€‰ä¸­: Gemini 3 Pro
    â†“
ä¸‹æ‹‰èœå•åªæ˜¾ç¤º 3 ä¸ªé€‰é¡¹
    â†“
ç”¨æˆ·é€‰æ‹©æ¨¡å‹å¹¶ç”Ÿæˆ
    â†“
åç«¯æ¥æ”¶ model å‚æ•°
    â†“
åŒ¹é…å¯¹åº”çš„ case
    â†“
è°ƒç”¨ç”Ÿæˆå‡½æ•°
    â†“
è¿”å›ç»“æœ
```

---

## ğŸ”„ ä¸åç«¯çš„å…³ç³»

### å‰ç«¯å‘é€
```json
{
  "model": "gemini-3-pro",  // æˆ– "jimeng", "mock"
  "prompt": "ä¸€åªå¯çˆ±çš„å°çŒ«",
  "ratio": "16:9"
}
```

### åç«¯å¤„ç†
```typescript
switch (model) {
  case 'gemini-3-pro':  // âœ… åŒ¹é…
    result = await generateWithVertexGemini(params, 'gemini-3-pro-image-preview');
    break;
  
  case 'jimeng':  // âœ… åŒ¹é…
    result = await generateWithJimeng(params);
    break;
  
  case 'mock':  // âœ… åŒ¹é…
    result = await generateWithMock(params);
    break;
  
  // ä»¥ä¸‹ case å‰ç«¯ä¸æ˜¾ç¤ºï¼Œä½†åç«¯æ”¯æŒï¼ˆå…¼å®¹æ—§èŠ‚ç‚¹ï¼‰
  case 'banana':  // âœ… æ”¯æŒ
  case 'vertex-ai':  // âœ… æ”¯æŒ
  case 'imagen-3':  // âœ… æ”¯æŒ
  // ...
}
```

---

## âœ… éªŒè¯æ¸…å•

- [x] é»˜è®¤æ¨¡å‹æ”¹ä¸º `gemini-3-pro`
- [x] æ·»åŠ  tab åˆ‡æ¢é€»è¾‘
- [x] å›¾ç‰‡é€‰é¡¹åªæ˜¾ç¤º 3 ä¸ª
- [x] è§†é¢‘é€‰é¡¹åªæ˜¾ç¤º 2 ä¸ª
- [x] åç«¯æ”¯æŒæ‰€æœ‰ model å€¼
- [x] å…¼å®¹æ—§èŠ‚ç‚¹æ•°æ®

---

## ğŸ’¡ æ³¨æ„äº‹é¡¹

### 1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
ä¿®æ”¹åå¿…é¡»ç¡¬åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl + Shift + Rï¼‰ï¼Œå¦åˆ™å¯èƒ½çœ‹åˆ°æ—§çš„é€‰é¡¹ã€‚

### 2. æ—§èŠ‚ç‚¹ä»ç„¶å¯ç”¨
å¦‚æœæ—§èŠ‚ç‚¹ä¿å­˜äº† `banana` ç­‰å€¼ï¼Œåç«¯ä»ç„¶ä¼šæ­£ç¡®å¤„ç†ã€‚

### 3. ç›´æ¥ API è°ƒç”¨
å³ä½¿å‰ç«¯ä¸æ˜¾ç¤ºï¼Œä»ç„¶å¯ä»¥é€šè¿‡ API ç›´æ¥è°ƒç”¨ï¼š
```javascript
fetch('/api/generate/image', {
  method: 'POST',
  body: JSON.stringify({ model: 'banana', ... })
})
```

---

## ğŸ‰ æ€»ç»“

**å‰ç«¯**ï¼š
- âœ… ç®€åŒ–ä¸º 3 ä¸ªå›¾ç‰‡é€‰é¡¹ + 2 ä¸ªè§†é¢‘é€‰é¡¹
- âœ… é»˜è®¤é€‰æ‹©æ­£ç¡®çš„æ¨¡å‹
- âœ… Tab åˆ‡æ¢è‡ªåŠ¨æ›´æ–°æ¨¡å‹

**åç«¯**ï¼š
- âœ… æ”¯æŒæ‰€æœ‰ 11 ä¸ªå›¾ç‰‡ model å€¼
- âœ… æ”¯æŒæ‰€æœ‰ 2 ä¸ªè§†é¢‘ model å€¼
- âœ… å…¼å®¹æ—§èŠ‚ç‚¹å’Œç›´æ¥ API è°ƒç”¨

ğŸš€ **ç°åœ¨å‰ç«¯ç•Œé¢ç®€æ´æ¸…æ™°ï¼Œåç«¯åŠŸèƒ½å®Œæ•´å¼ºå¤§ï¼**

